<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title> Tablet - Koenigin Luise im Felsenlabyrinth </title>
        <link rel="stylesheet" type="text/css" href="./style_luise.css">

    
    <script src="js/aframe.min.js"></script>


    <script src="js/aframe.extras.js"></script>
    
    <script src="panorama/helper.js"></script>
    <script src="panorama/hotspot.js"></script>
    <script src="panorama/panorama.js"></script>
    <script src="panorama/tour.js"></script>
    
    <script src="js/script.js"></script>
    <script src="js/wave.js"></script>

    
     <script src="js/transparent-video-shader.js"></script>

    <script src="js/event-set-component.js"></script>
    <script src="js/billboard-look-component.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">


  </head>
  
  <body>
    
    <div id="overlay">
      <div id="hinweis-container">
        <img id="nutzerhinweis" src="./img/Nutzerhinweis_Tablet.png" alt="Nutzerhinweis">
        <img id="start-button" src="./img/Starten.png" alt="Jetzt Starten" onclick="hideOverlay()">
      </div>
    </div>
    
    <div class="switcher-nav">
      <a href="index.html" class="go-to-index-button" id="indexButton">
        <i class="fas fa-home"></i> 
      </a> 
      <div class="switcher-nav-inner">
        <a href="humboldt.html" class="arrow left-arrow">←</a>
        <div class="footer-text">Luise von Preußen</div>
        <a href="wann.html" class="arrow right-arrow">→</a>
      </div>
    </div>
    
 
   

    <div class="video-container">
      <video id="Luise_subs_1"
             crossorigin="anonymous"
             playsinline
             webkit-playsinline muted>
     
             <source src="./videos/Luise_subs_1-1.mov" type="video/mp4;codecs=hvc1">

             <source src="./videos/Luise_subs_1.webm" type="video/webm" />
      </video>  

      <video id="Luise_subs_2"
             crossorigin="anonymous"
             playsinline
             webkit-playsinline muted>
             <source src="./videos/Luise_subs2-1.mov" type="video/mp4;codecs=hvc1">
             <source src="./videos/Luise_subs_2.webm" type="video/webm" />
      </video>  
           
      <video id="Luise_subs_3"
             crossorigin="anonymous"
             playsinline
             webkit-playsinline muted>

             <source src="./videos/Luise_subs_3-1.mov" type="video/mp4;codecs=hvc1">
             <source src="./videos/Luise_subs_3.webm" type="video/webm" />
      </video>  
   </div>


 
    
<a-scene renderer="precision: mediump; highRefreshRate:false; colorManagement:true; antialias:false; "
xr-mode-ui="enabled: false"
cursor="rayOrigin: mouse" loading-screen="dotsColor: white; backgroundColor: #A4BC49">      
      <a-assets timeout="100000">

        
        <!-- UI -->

<img id="ZuHelgo" src="./img/InselHelgoland.png" crossorigin="anonymous">
<img id="zuTheatherplatz" src="./img/Theatherplatz.png" crossorigin="anonymous">
<img id="zumAussichtspunkt" src="./img/Aussichtspunkt.png" crossorigin="anonymous">
<img id="zuLuisensitz" src="./img/Luisensitz.png" crossorigin="anonymous">
<img id="zurückHelgo" src="./img/Helgo.png" crossorigin="anonymous">
<img id="Styletransfer" src="./img/StiltransferHelgo.png" crossorigin="anonymous">

<img id="Hinweis_Scheibe" src="./img/Hinweis_Scheibe.png" crossorigin="anonymous">
<img id="Erklaerung" src="./img/Nutzerhinweis_Tablet.png" crossorigin="anonymous">
<img id="Starten" src="./img/Starten.png" crossorigin="anonymous">


<!-- Infotafeln-->
<img id="Helgoland_Info" src="./img/Helgoland_Info.png" crossorigin="anonymous">
<img id="Fahne_Info" src="./img/Infotext_Luisenfahne.png" crossorigin="anonymous">
<img id="Scheibe_Info" src="./img/Infotafel_Schuetzenscheibe.png" crossorigin="anonymous">

<!-- Panos-->
<img id="Luisensitz" src="./img/Luisensitz.jpg" crossorigin="anonymous">
<img id="Helgoland" src="./img/Helgoland.jpg" crossorigin="anonymous">
<img id="Aussichtspunkt" src="./img/Aussichtspunkt.jpg" crossorigin="anonymous">
<img id="Helgoland_Styletransfer" src="./img/Helgoland_styletransfer.jpg" crossorigin="anonymous">
<img id="Luisensitz_blurred" src="./img/Luisensitz_blurred.jpg" crossorigin="anonymous">

<!-- 3D Modelle -->
<a-asset-item id="Luisensitz_Modell" src="./models/Luisensitz_NEU.glb" crossorigin="anonymous"></a-asset-item>
<a-asset-item id="Luisenfahne" src="./models/Fahnenstange.glb" crossorigin="anonymous"></a-asset-item> 
 <img id="Scheibe" src="./img/Scheibe.png" crossorigin="anonymous"></img> 

<!-- Porträts-->
<img id="Schatten" src="./img/Schatten.png" crossorigin="anonymous">        
<img id="Luise_speaking_1_poster" src="./img/Luise_1-1.png" crossorigin="anonymous">

<!-- Videos -->
 
<video id="Luise_speaking_1" crossorigin="anonymous" playsinline webkit-playsinline>
    <source src="./videos/Luise_Speaking_1-1.mov" type="video/mp4;codecs=hvc1">
    <source src="./videos/Luise_speaking_1.webm" type="video/webm" />
</video>

<video id="Luise_speaking_2" crossorigin="anonymous" playsinline webkit-playsinline>
    <source src="./videos/Luise_Speaking_2-1.mov" type="video/mp4;codecs=hvc1">
    <source src="./videos/Luise_speaking_2.webm" type="video/webm" />
</video>


<video id="Luise_speaking_3" crossorigin="anonymous" playsinline webkit-playsinline>
    <source src="./videos/Luise_Speaking_3-1.mov" type="video/mp4;codecs=hvc1">
    <source src="./videos/Luise_speaking_3.webm" type="video/webm" />
</video>


<video id="Luise_speaking_4" crossorigin="anonymous" playsinline webkit-playsinline muted>
    <source src="./videos/Platzhalter.webm" type="video/webm" />
</video>

      </a-assets>

      
      <a-tour>


      
                 
        
        <!-- Panorama nodes and content -->
        <a-panorama id="Luisensitz_Szene" src="#Luisensitz" rotation="0 0 0">
           
         

      <a-entity scale="3 3 3" position="0.066 -1.5 -0.667">
       <a-entity billboard id="video1" 
        material="shader: transparent-video; alphaTest:0.5; src: #Luise_speaking_1; transparent: true; depthWrite:false;"
        geometry="primitive: plane;
                  width: 4.8;
                  height: 4.8"
                  scale=".5 .5 .5"
        position="2 1 1.85"> </a-entity>
        
        <a-entity billboard id="video1_poster" 
        material="src: #Luise_speaking_1_poster; alphaTest:0.5; transparent: true; shader:flat;"
        geometry="primitive: plane;
                  width: 4.8;
                  height: 4.8"
                  scale=".5 .5 .5"
        position="1.99 1 1.84"> </a-entity>
          
           <a-image src="#Schatten" rotation="90 0 0" position="2.188 -0.167 1.907" material="alphaTest:0; color: #000000" material.transparent="true" width=".5" height=".5" scale="6 6 6" ></a-image>
    
            </a-entity>   

        </a-panorama>
        
         <a-panorama id="Luisensitz_Pause" src="#Luisensitz_blurred" rotation="0 120 0" visible="false" >
          
          <a-entity position="1.621 -0.693 -0.316" scale="0.9 0.9 0.9" >
          <a-entity position="0.461 0 -0.066" rotation="0 100 0">
          <a-entity gltf-model="#Luisensitz_Modell" scale="6 6 6" position="-1.680  -2.427 -0.747" rotation="0 71.55 0"
                            shadow="cast: true"></a-entity> 

          </a-entity>
  
        <a-entity id="video2" 
        material="shader: transparent-video; alphaTest:0.5; src: #Luise_speaking_2; transparent: true; depthWrite:false;"
                  scale= ".7 .7 .7"
        geometry="primitive: plane;
                  width: 4.8;
                  height: 4.8;"
        position="-5.468 2.089 1.596"
        rotation="0 120 0"> </a-entity>  
      
</a-entity>

        </a-panorama>

        <a-panorama id="Aussichtspunkt_Szene" src="#Aussichtspunkt" rotation="0 0 0" visible="false">
          
          <a-image billboard src="#Hinweis_Scheibe" scale="2 2 2" rotation="0 90 0" position="-3.695 1.5 3.972" material.transparent="true" width="1.5" height=".75"
                           ></a-image>
                    
           <a-entity wave-component="texturepath:./img/Fahne_textur.jpg" position="15.074 8.889 -5.904" rotation="3.8 -60 0" scale="1.5 1.5 1.5"></a-entity>
         
                    <a-entity id="Fahne" gltf-model="#Luisenfahne" position="12.710 0.622 -9.046" scale="5 5 5" rotation="0 120 0"
                                          shadow="cast: true" ></a-entity>  
                   
                 <a-image src="#Schatten" rotation="90 0 0" position="12.710 -2.963 -9.311" material="alphaTest:0; color: #000000" material.transparent="true" width=".5" height=".5" scale="10 10 10">
         
                 </a-image>
         
         
                    
                     <a-image billboard id="Info" src="#Fahne_Info" material.transparent="true" alphatest= "0.5;" class="clickable"
                          rotation="0 0 0" width="1" height="1" opacity="1" scale="8.5 8.5 8.5" position="2.961 1.8 -8" ></a-image>
                   
                  
                    <a-image billboard id="Info2" src="#Scheibe_Info" material.transparent="true" alphatest= "0.5;" class="clickable"
                          rotation="0 30 0" width="1" height="1" opacity="1" scale="8.5 8.5 8.5" position="-5.083 1.737 -1.005"></a-image>
         
                          <a-cylinder 
                          id="SchuetzenScheibe" 
                          class="clickable"
                          position="-4.979 2.766 -0.675"
                         
                          radius="1" 
                          height="2" 
                          src="#Scheibe" 
                          repeat="0.69 0.71"
                          offset="0.150 0.135"
                          rotation="-0.323 170.882 94.877"
                          scale="1.2 0.010 1.2"
                          event-set__enter="_target: #SchuetzenScheibe; _event: mouseenter; animation.property: position; dir: alternate; animation.to:  -2.276 1.549 -0.291 animation.easing: easeInOutQuad; animation.dur: 1800 ;"
                          event-set__enter_2="_target: #SchuetzenScheibe; _event: mouseleave; animation.property: position; dir: alternate;  animation.to: -4.979 2.766 -0.675 animation.easing: easeInOutQuad; animation.dur: 1000;"
                          >
                        </a-cylinder>
         
            
            
           
                   
                <a-entity position="0 -1.8 -3" scale="2.500 2.500 2.500">
          
                 <a-entity id="video3" billboard
                 material="shader: transparent-video; alphaTest:0.5; src: #Luise_speaking_3; transparent: true; depthWrite:false;"
                           scale= "1 1 1"
                 geometry="primitive: plane;
                           width: 4.8;
                           height: 4.8;"
                 position="4.660 1.968 1.748"
                 rotation="0 -110 0"> </a-entity>  
                   
                 <a-image src="#Schatten" rotation="90 0 0" position="4.660 -0.3 1.748" material="alphaTest:0; color: #000000" material.transparent="true" width=".5" height=".5" scale="10 10 10" ></a-image>
         
                   </a-entity>  
      
                   
                 </a-panorama>
        
        <a-panorama id="Helgoland_Szene" src="#Helgoland" rotation="0 0 0" position="0 -10 0" visible="false">
       
        </a-panorama>
        
        <a-panorama id="Helgoland_Szene_Styletransfer" src="#Helgoland_Styletransfer" rotation="0 -90 0" visible="false">
          <a-image billboard src="#Helgoland_Info" material.transparent="true"  position="-3.358 1.680 0.318" alphatest= "0.5;" class="clickable"
                 rotation="0 0 0" width="1" height="1" opacity="1" scale="4 4 4"> </a-image>          
        </a-panorama>
       
        

        

        
        
        
        
          <!-- Links between panoramas -->

        <a-hotspot id="trigger6" billboard class="clickable " for="Luisensitz_Szene" to="Helgoland_Szene" position="2.111 2.000 8.233"
                   event-set__click="_target: #trigger1; _event: click; animation.property: scale; dir: alternate; animation.to: 0 0 0  animation.easing: easeInOutQuad; animation.dur: 0.0001;">
          <a-image class="clickable" src="#ZuHelgo" material.transparent="true" width="4" height="2"
                   event-set__enter="_event: mouseleave; opacity: 1;"
                 event-set__leave="_event: mouseenter; opacity: .5; delay:2000;"
                 event-set__enter2="_target: #rig; _event: click; animation.property: rotation; animation.to: 0 -240 0 animation.easing: easeInOutQuad; animation.dur: 0.00001;"></a-image>
        </a-hotspot>
        
        <a-hotspot class="clickable" id="trigger2" for="Luisensitz_Szene" to="Luisensitz_Pause" position="1.313 1.6 -0.235" rotation="0 -80 0"
         event-set__click="_target: #video1_poster; _event: click; animation.property: scale; dir: alternate; animation.to: 0 0 0 animation.easing: easeInOutQuad; animation.dur: 0.1;">
          <a-image class="clickable" src="#zuLuisensitz" material.transparent="true" width=".75" height="0.375"
                   event-set__enter="_event: mouseleave; opacity: 1;"
                 event-set__leave="_event: mouseenter; opacity: .5; delay:2000;"></a-image>
        </a-hotspot>
      
        
         <a-hotspot id="trigger3" billboard class="clickable" for="Luisensitz_Pause" to="Aussichtspunkt_Szene" position="1.045 2.5 4.043" rotation="0 0 0" visible="false" 
                    event-set__enter_3="_target: #rig; _event: click; animation.property: rotation; animation.to: 0 -80 0 animation.easing: easeInOutQuad; animation.dur: 0.00001;">
          <a-image class="clickable" src="#zumAussichtspunkt" material.transparent="true"  width="2" height="1"
                   event-set__enter="_event: mouseleave; opacity: 1;"
                 event-set__leave="_event: mouseenter; opacity: .5; delay:2000;"
             ></a-image>

        </a-hotspot>
        
          <a-hotspot id="trigger5" billboard class="clickable" for="Luisensitz_Pause" to="Luisensitz_Szene" position="-3.234 2 1.854" rotation="0 0 0" visible="false"
                >
          <a-image class="clickable" src="#zuTheatherplatz" material.transparent="true" width="2" height="1"
                   event-set__enter="_event: mouseleave; opacity: 1;"
                 event-set__leave="_event: mouseenter; opacity: .5; delay:2000;"
                   event-set__click="_target: #trigger1; _event: click; animation.property: scale; dir: alternate; animation.to: 0  animation.easing: easeInOutQuad; animation.dur: 0.1;"></a-image>r
        </a-hotspot>
        
        
        
    
         

        
         <a-hotspot billboard class="clickable" for="Helgoland_Szene" to="Helgoland_Szene_Styletransfer" position="-1.199 1.666 -2.844" rotation="0 90 0" visible="false">
                  <a-image class="clickable" src="#Styletransfer" material.transparent="true" width="1.5" height=".75"
                   event-set__enter="_event: mouseleave; opacity: 1;"
                 event-set__leave="_event: mouseenter; opacity: .5; delay:2000;"></a-image>
        </a-hotspot>
        
        <a-hotspot billboard class="clickable" for="Helgoland_Szene_Styletransfer" to="Helgoland_Szene" position="-3.812 2 -1.467" rotation="0 90 0" visible="false">
          <a-image class="clickable" src="#zurückHelgo" material.transparent="true" width="1" height="1"
                   event-set__enter="_event: mouseleave; opacity: 1;"
                 event-set__leave="_event: mouseenter; opacity: .5; delay:2000;"></a-image>
        </a-hotspot>
        
        
        
        <a-hotspot id="trigger7" billboard class="clickable" for="Helgoland_Szene" to="Luisensitz_Szene" position="2.392 1.488 0.715"  visible="false"
                            event-set__click="_target: #video1_poster; _event: click; animation.property: scale; dir: alternate; animation.to: 0 0 0 animation.easing: easeInOutQuad; animation.dur: 0.1;"
                   >
          <a-image class="clickable" src="#zuTheatherplatz" material.transparent="true" width="2" height="1"
                   event-set__enter="_event: mouseleave; opacity: 1;"
                 event-set__leave="_event: mouseenter; opacity: .5; delay:2000;"
                 event-set__click="_target: #trigger1; _event: click; animation.property: material.opacity; dir: alternate; animation.to: 0  animation.easing: easeInOutQuad; animation.dur: 1000;"></a-image>
        </a-hotspot>

        
          <a-hotspot id="trigger4" billboard class="clickable" for="Aussichtspunkt_Szene" to="Luisensitz_Szene" position="2.149 2.000 8.336" rotation="0 0 0" visible="false"
            event-set__click="_target: #trigger1; _event: click; animation.property: scale; dir: alternate; animation.to: 0 0 0  animation.easing: easeInOutQuad; animation.dur: 0.0001;">
          <a-image class="clickable" src="#zuTheatherplatz" material.transparent="true" width="4" height="2.130"






                   event-set__enter="_event: mouseleave; opacity: 1;"
                 event-set__leave="_event: mouseenter; opacity: .5; delay:2000;"
></a-image>
        </a-hotspot>
        

      </a-tour>

     <a-entity
        light="type:directional; castShadow:true; intensity:1.2"
        position="-4 2.7 -3.8"
      ></a-entity>

      <a-light type="ambient" intensity="1"> </a-light>
     
  
       <!-- camera rig -->
      <a-entity id="rig" position="0 0 0" rotation="0 240 0" 
      >
       <a-entity id="cam" position="0 1.5 0" camera 
       look-controls="enabled: true; touchEnabled: false; mouseEnabled: true; magicWindowTrackingEnabled: true;" 
       fov="50"  >

       <a-entity id="timerText" position="0 0.15 -1.5" text="value: ; color: white; align: center; width: 3;">
      </a-entity>
             
   
       </a-entity>
      </a-entity>

 

      
      
    </a-scene>

    
    <script>

      

      

       // Prüfen, ob die Seite in einem iframe geladen ist
  if (window.self !== window.top) {
    // Wenn die Seite in einem iframe geladen ist, das switcher-nav-Element ausblenden
    document.addEventListener("DOMContentLoaded", function() {
      var switcherNav = document.querySelector('.switcher-nav');
      if (switcherNav) {
        switcherNav.style.display = 'none';
      }
    });
  }
 
 var inactivityDelay = 120000; // 2 Minuten bis zum Countdown-Start
var countdownTime = 10; // 10 Sekunden Countdown
var inactivityTimer;
var countdownTimer;
var timerTextEntity;

function restartApplication() {
    location.reload();
}

function resetTimer() {
    clearTimeout(inactivityTimer);
    clearInterval(countdownTimer);
    timerTextEntity.setAttribute('text', 'value', '');
    inactivityTimer = setTimeout(startCountdown, inactivityDelay);
}

function startCountdown() {
    var remainingTime = countdownTime;
    countdownTimer = setInterval(function() {
        timerTextEntity.setAttribute('text', 'value', 'Weiter oder Neustart in: ' + remainingTime + ' sec');
        remainingTime--;
        if (remainingTime < 0) {
            clearInterval(countdownTimer);
            restartApplication();
        }
    }, 1000);
}

function setupInactivityTimer() {
    timerTextEntity = document.getElementById('timerText');
    document.addEventListener('mousemove', resetTimer);
    document.addEventListener('mousedown', resetTimer);
    document.addEventListener('keypress', resetTimer);
    document.addEventListener('touchstart', resetTimer);
    document.addEventListener('scroll', resetTimer);
    resetTimer();
}

window.onload = function() {
    // Button-Klick-Event hinzufügen, um das Skript zu starten
    var startButton = document.getElementById('start-button');
    startButton.addEventListener('click', function() {
        setupInactivityTimer();

        // A-Frame-spezifische Ereignisse hinzufügen
        var sceneEl = document.querySelector('a-scene');
        sceneEl.addEventListener('click', resetTimer);
        sceneEl.addEventListener('touchstart', resetTimer);

        // A-Frame Raycaster Interaktionserkennung
        var raycastTargets = document.querySelectorAll('.clickable');
        raycastTargets.forEach(function (target) {
            target.addEventListener('click', resetTimer);
        });
    });
};


      // Globale Variable für das derzeit abgespielte Video
 let currentVideo = null;
 
 function playVideo(videoId) {
   const videoEl = document.querySelector(videoId);
 
 
   if (currentVideo && currentVideo !== videoEl) {
     currentVideo.pause();
     currentVideo.currentTime = 0; 
   }
 
   videoEl.muted = true; 
   videoEl.play().then(() => {
     videoEl.muted = false;
     currentVideo = videoEl; 
   }).catch((error) => {
     console.error("Video konnte nicht abgespielt werden: ", error);
   });
 }
 
 AFRAME.registerComponent('play-video-on-click', {
   schema: {
     videoId: { type: 'string' }
   },
   init: function () {
     const videoId = this.data.videoId;
     this.el.addEventListener('click', function () {
       playVideo(videoId);
     });
     this.el.addEventListener('touchstart', function () {
       playVideo(videoId);
     });
   }
 });
 
 // Attach the component to the buttons with the respective video IDs
 document.querySelector('#start-button').setAttribute('play-video-on-click', 'videoId: #Luise_speaking_1');
 document.querySelector('#trigger2').setAttribute('play-video-on-click', 'videoId: #Luise_speaking_2');
 document.querySelector('#trigger3').setAttribute('play-video-on-click', 'videoId: #Luise_speaking_3');
 document.querySelector('#trigger4').setAttribute('play-video-on-click', 'videoId: #Luise_speaking_4');
 document.querySelector('#trigger5').setAttribute('play-video-on-click', 'videoId: #Luise_speaking_1');
 
 
 document.querySelector('#trigger7').setAttribute('play-video-on-click', 'videoId: #Luise_speaking_1');
 document.querySelector('#trigger6').setAttribute('play-video-on-click', 'videoId: #Luise_speaking_4');
 
 
 const sub1 = document.querySelector('#Luise_subs_1');
 const sub2 = document.querySelector('#Luise_subs_2');
 const sub3 = document.querySelector('#Luise_subs_3');
 const sub4 = document.querySelector('#Luise_speaking_4');
       
const trigger1 = document.querySelector('#start-button');
       
const trigger2 = document.querySelector('#trigger2');
const trigger3 = document.querySelector('#trigger3');
const trigger4 = document.querySelector('#trigger4');
const trigger5 = document.querySelector('#trigger5');
 
 // Helper function to show a specific video and hide others
 function showVideo(videoToShow) {
     const videos = [sub1, sub2, sub3, sub4];
     videos.forEach(video => {
         if (video === videoToShow) {
             video.classList.remove('hidden');
             video.classList.add('visible');
             video.currentTime = 0; // Ensure the video starts from the beginning
         } else {
             video.classList.remove('visible');
             video.classList.add('hidden');
         }
     });
 }
 
 // Helper function to hide a specific video
 function hideVideo(videoToHide) {
     videoToHide.currentTime = 0;
   videoToHide.classList.remove('visible');
     videoToHide.classList.add('hidden');
   
 }
 
 // Initialize videos to be hidden
 window.addEventListener('load', () => {
     [sub1, sub2, sub3, sub4].forEach(video => {
         hideVideo(video);
     });
 });
 
 // Event listeners for triggers
 trigger1.addEventListener('click', () => {
     setTimeout(() => {
         showVideo(sub1); // Show sub1 and hide others
         sub1.play();
     }, 0); // Delay in milliseconds
 });
 
 trigger2.addEventListener('click', () => {
     setTimeout(() => {
         showVideo(sub2); // Show sub2 and hide others
         sub2.play();
     }, 0); // Delay in milliseconds
 });
 
 trigger3.addEventListener('click', () => {
     setTimeout(() => {
         showVideo(sub3); // Show sub3 and hide others
         sub3.play();
     }, 0); // Delay in milliseconds
 });
 
 trigger4.addEventListener('click', () => {
     setTimeout(() => {
         showVideo(sub4); // Show sub4 and hide others
         sub4.play();
     }, 0); // Delay in milliseconds
 });
       
       trigger5.addEventListener('click', () => {
     setTimeout(() => {
         showVideo(sub1); // Show sub4 and hide others
         sub1.play();
     }, 0); // Delay in milliseconds
 });
       
         trigger6.addEventListener('click', () => {
     setTimeout(() => {
         showVideo(sub4); // Show sub4 and hide others
         sub4.play();
     }, 0); // Delay in milliseconds
 });
     
       
        trigger7.addEventListener('click', () => {
     setTimeout(() => {
         showVideo(sub1); // Show sub4 and hide others
         sub1.play();
     }, 0); // Delay in milliseconds
 });
       
       function hideOverlay() {
   document.getElementById("overlay").style.display = "none";
 }
 
     document.getElementById('start-button').addEventListener('click', function() {
     const video = document.querySelector('#Luise_speaking_1');
     const poster = document.querySelector('#video1_poster');
 
     // Play the video
     video.play().catch(error => console.error('Error playing video:', error));
     
     // Set the opacity of the poster to 0 with a duration of 2000ms
     poster.setAttribute('animation', {
         property: 'material.opacity',
         to: '0',
         dur: '1000'
     });
 });
 
 function stopVideo() {
     const video = document.querySelector('#Luise_speaking_1');
     
     // Stop the video and reset the time
     if (video) {
         video.pause();
         video.currentTime = 0;
     }
 }
 
 document.getElementById('trigger2').addEventListener('click', stopVideo);
 document.getElementById('trigger6').addEventListener('click', stopVideo);
           
           document.getElementById('trigger4').addEventListener('click', function() {
     // Make the overlay visible again
     document.getElementById("overlay").style.display = "flex";
     
     // Reset the rotation of the cameraRig
     const cameraRig = document.querySelector('#rig');
     if (rig) {
         rig.setAttribute('rotation', '0 240 0');
     }
 });



 
 
     </script>
    
  </body>
</html>